### شرح القسم عن "TCP and UDP Vulnerabilities" (ثغرات TCP وUDP) بأبسط طريقة ممكنة

هذا القسم من كورس سيسكو عن الأمن السيبراني، يتكلم عن الثغرات في بروتوكولات TCP وUDP (اللي هما جزء من طبقة النقل في الشبكات). TCP موثوق ومعقد، UDP بسيط وسريع. الهكرز يستغلوا الثغرات دي في هجمات. هقسمه لك عشان يكون سهل:

#### 1. **رأس TCP (TCP Segment Header)**
   - معلومات TCP تأتي بعد رأس IP في الحزمة.
   - الرأس فيه حقول زي: أرقام التسلسل، التحقق، المنافذ، إلخ.
   - أهم جزء: 6 بتات تحكم (Control Bits أو Flags):
     - **URG**: يشير إن حقل الإشارة الطارئة مهم.
     - **ACK**: يؤكد استلام البيانات.
     - **PSH**: يدفع البيانات فوراً.
     - **RST**: يعيد تعيين الاتصال (يوقفه).
     - **SYN**: يزامن أرقام التسلسل (يبدأ الاتصال).
     - **FIN**: ينهي الاتصال (مش في بيانات تانية).

#### 2. **خدمات TCP (TCP Services)**
   - TCP يقدم خدمات موثوقة:
     - **التوصيل الموثوق (Reliable delivery)**: يستخدم تأكيدات (ACK) عشان يضمن وصول البيانات. لو مش وصل، يعيد الإرسال. ده يسبب تأخير، لكن مهم لبرامج زي HTTP، FTP، DNS (نقل المناطق).
     - **التحكم في التدفق (Flow control)**: يسمح بتأكيد مجموعة حزم معاً مش واحدة واحدة، عشان يقلل التأخير.
     - **الاتصال الحالي (Stateful communication)**: يحصل في "المصافحة الثلاثية" (three-way handshake).
   - خطوات إنشاء اتصال TCP:
     1. العميل يبعت SYN للسيرفر (طلب اتصال).
     2. السيرفر يرد بـSYN-ACK (يؤكد ويطلب اتصال عكسي).
     3. العميل يرد بـACK (يؤكد الاتصال).

#### 3. **هجمات TCP (TCP Attacks)**
   - **هجوم SYN Flood**:
     1. الهكر يبعت SYN كتير للسيرفر.
     2. السيرفر يرد بـSYN-ACK لكل واحد وينتظر الرد.
     3. الهكر مش يرد، فالسيرفر يملأ بالاتصالات نصف مفتوحة.
     - نتيجة: المستخدمين الشرعيين مش يقدروا يدخلوا (زي DoS).
   - **هجوم إعادة التعيين (TCP Reset Attack)**:
     - إنهاء اتصال TCP عادي يحتاج 4 خطوات: FIN من العميل، ACK من السيرفر، FIN من السيرفر، ACK من العميل.
     - الهكر يبعت حزمة مزيفة مع RST لطرف أو الاثنين، عشان يوقف الاتصال فجأة.
   - **هجوم سرقة الجلسة (TCP Session Hijacking)**:
     - صعب، لكن الهكر يسرق جلسة مفتوحة ومصادقة.
     - يزيف عنوان IP لجهاز، يتنبأ برقم التسلسل التالي، ويبعت ACK للطرف الآخر.
     - لو نجح، يقدر يبعت بيانات (لكن مش يستقبلها) للضحية.

#### 4. **رأس UDP وعملها (UDP Segment Header and Operation)**
   - UDP تستخدم في برامج زي DNS، TFTP، NFS، SNMP، وتطبيقات الوقت الفعلي زي الفيديو أو VoIP.
   - UDP غير متصل (connectionless)، مش موثوق زي TCP: مش في تأكيدات، تسلسل، أو تحكم تدفق.
   - ده يخليها سريعة ومنخفضة التكلفة، مثالية لطلبات بسيطة (طلب/رد).
   - لو عايز موثوقية، لازم تضيفها خارجياً (مش موجودة افتراضياً).
   - الرأس بسيط: منافذ مصدر/وجهة، طول، تحقق.

#### 5. **هجمات UDP (UDP Attacks)**
   - UDP مش مشفر افتراضياً، فأي حد يقدر يشوف أو يغير الترافيك (يمكن تضيف تشفير خارجي).
   - **هجوم UDP Flood**:
     - الهكر يستخدم أدوات زي UDP Unicorn أو Low Orbit Ion Cannon.
     - يبعت كم هائل من حزم UDP (غالباً من عنوان مزيف) لسيرفر.
     - يمسح كل المنافذ المعروفة، خاصة المغلقة.
     - السيرفر يرد برسالة ICMP "port unreachable" لكل واحدة.
     - نتيجة: الشبكة تمتلئ بالترافيك، تستنزف النطاق الترددي، وتصبح زي DoS.

في النهاية، القسم ده يوضح إن TCP موثوق لكنه عرضة للهجمات بسبب الاتصالات، وUDP سريع لكنه ضعيف في الأمان. الحماية تحتاج firewalls ومراقبة. لو عايز تفاصيل أكتر عن جزء، قولي!