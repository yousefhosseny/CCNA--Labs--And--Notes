### شرح القسم عن "IP Services" (خدمات IP) بأبسط طريقة ممكنة

هذا القسم من كورس سيسكو عن الأمن السيبراني، يتكلم عن ثغرات في خدمات IP الشائعة زي ARP (لربط IP بـMAC)، DNS (لتحويل الأسماء لعناوين IP)، وDHCP (لتوزيع عناوين IP تلقائي). الهكرز يستغلوا الثغرات دي عشان يهاجموا الشبكات، زي عمل MITM (رجل في الوسط) أو سرقة بيانات. هقسمه لك عشان يكون سهل، مع جداول للأنواع:

#### 1. **ثغرات ARP (ARP Vulnerabilities)**
   - ARP يساعد الأجهزة في الشبكة المحلية تكتشف عنوان MAC لجهاز آخر بناءً على IP.
     - الجهاز يبعت طلب ARP broadcast (للجميع) عشان يعرف MAC لـIP معين.
     - الجهاز المقصود يرد بـARP Reply.
   - مشكلة: أي جهاز يقدر يبعت ARP Reply غير مطلوب (gratuitous ARP)، ويغير الـARP cache (ذاكرة ARP) عند الآخرين.
   - الهكر يقدر يزيف ده عشان "يسمم" الـARP cache، ويحول الترافيك من خلاله (MITM).
   - **تسميم ARP Cache (ARP Cache Poisoning)**:
     - مثال:
       1. PC-A يطلب MAC للراوتر (default gateway).
       2. الراوتر يرد، والاثنين يحدثوا caches.
       3. الهكر يبعت ARP Replies مزيفة بـMAC تبعه للـIP اللي يبغاها.
     - نتيجة: PC-A والراوتر يرسلوا الترافيك للهكر بدل بعض.
     - أنواع: سلبي (يسرق معلومات)، نشيط (يغير أو يضيف بيانات ضارة).

   - **فيديو عن ARP Spoofing**: يشرح هجوم تزييف ARP.

#### 2. **هجمات DNS (DNS Attacks)**
   - DNS يحول أسماء المواقع (زي www.cisco.com) لعناوين IP.
   - مهم تحمي DNS لأنه أساس الشبكة، لكن كتير ينسوه.
   - أنواع الهجمات الرئيسية:
     - **DNS Open Resolver Attacks**: الـresolver (سيرفر DNS) يرد على استفسارات من خارج نطاقه، فسهل الاستغلال.
       | النوع | الوصف |
       |-------|--------|
       | **DNS cache poisoning** | الهكر يبعت معلومات مزيفة عشان يحول المستخدمين لمواقع ضارة. |
       | **DNS amplification/reflection** | يعمل DoS بإغراق السيرفر باستفسارات مزيفة، يضخم الحجم ويخفي المصدر. |
       | **DNS resource utilization** | DoS يستهلك موارد السيرفر لحد ما يتعطل أو يحتاج إعادة تشغيل. |

     - **DNS Stealth Attacks**: تقنيات خفية عشان يخفي الهكر هويته.
       | التقنية | الوصف |
       |---------|--------|
       | **Fast Flux** | يغير عناوين IP بسرعة (كل دقائق) لمواقع فيشينج أو مالوير، صعب الكشف. |
       | **Double IP Flux** | يغير الـhostname والـname server بسرعة، يصعب تتبع المصدر. |
       | **Domain Generation Algorithms** | يولد أسماء domains عشوائية في المالوير عشان يتواصل مع سيرفرات التحكم (C&C). |

     - **DNS Domain Shadowing Attacks**: الهكر يسرق حسابات domain ويصنع sub-domains خفية تشير لسيرفرات ضارة، بدون ما صاحب الدومين يعرف.

     - **DNS Tunneling**: يخفي ترافيك غير DNS داخل حزم DNS عشان يتجاوز الأمان.
       - مثال لإرسال أوامر C&C لبوتنت:
         1. يقسم الأمر لقطع مشفرة.
         2. يضع كل قطعة في subdomain في استفسار DNS.
         3. الاستفسار يروح لسيرفر الهكر.
         4. السيرفر يرد بأوامر مشفرة في الردود.
         5. المالوير يجمع القطع وينفذ.
       - الحل: استخدم فلاتر تتحقق من طول الاستفسارات أو الأسماء الغريبة.

#### 3. **ثغرات DHCP (DHCP Attacks)**
   - DHCP يوزع عناوين IP تلقائياً للعملاء.
     - عملية: العميل يبعت Discover (broadcast)، السيرفر يرد بـOffer، العميل يقبل بـRequest، السيرفر يؤكد بـACK.
   - **هجوم DHCP Spoofing**: الهكر يوصل سيرفر DHCP مزيف في الشبكة، يعطي معلومات خاطئة:
     - غلط default gateway: يحول الترافيك من خلاله (MITM).
     - غلط DNS: يحول لمواقع ضارة.
     - غلط IP: يسبب DoS على العميل.
   - مثال:
     1. العميل يبعت Discover.
     2. السيرفر الحقيقي والمزيف يردوا بـOffers.
     3. العميل يقبل الأول (المزيف عادة).
     4. المزيف يؤكد، والحقيقي يتوقف.

#### 4. **اللاب (Lab – Explore DNS Traffic)**
   - أهداف اللاب:
     - التقاط حركة DNS.
     - استكشاف استفسارات DNS.
     - استكشاف ردود DNS.
   - ده تمرين عملي عشان تشوف حركة DNS في الشبكة، ربما باستخدام أدوات زي Wireshark.

في النهاية، القسم ده يركز على إن خدمات IP الأساسية زي ARP، DNS، DHCP عرضة للهجمات إذا مش محمية، فالحل فلاتر، مراقبة، وتحديثات. لو عايز تفاصيل أكتر عن فيديو أو لاب، قولي!