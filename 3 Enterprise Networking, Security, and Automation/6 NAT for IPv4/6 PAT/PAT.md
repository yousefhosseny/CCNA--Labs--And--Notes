ุจุงูุทุจุน! ุฅููู ุดุฑุญ **PAT** (Port Address Translation) โ ุฃู ูุง ุจููุณููู **NAT Overload** โ **ุจุฃุจุณุท ุทุฑููุฉ ููููุฉ**ุ ูุฃูู ุจุชุณูุนู ูู ุจูุฏูุงุณุช ุชููู ูุตูุฑ ๐งุ ูู ุบูุฑ ุชุนููุฏุ ูุจููุณุฉ ูุงูุนูุฉ ๐

> โ๏ธ ุฃูููุง:  
> **PAT = Port Address Translation = NAT Overload**  
> ูู ุงูููุน **ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง ูู ูู ุจูุช ููู ุดุฑูุฉ** โ ูู ุงููู ุจูุฎููู ุชุชุตูุญ ุงูุฅูุชุฑูุช ูู ุงูููุจุงูู ูุงููุงุจ ุชูุจ ูุงูุชููุฒูููโฆ ููููู ูุณุชุฎุฏููุง ููุณ ุงูุนููุงู ุงูุนุงู!

---

## ๐ ุฅูู ูู ุงูู **PAT**ุ  
> โ "ุชุดุงุฑู **ุนููุงู IP ุนุงู ูุงุญุฏ** ูุน **ุขูุงู ุงูุฃุฌูุฒุฉ** ุฏุงุฎูููุง โ ุจุงุณุชุฎุฏุงู **ุฃุฑูุงู ุงูุจูุฑุชุงุช** ุนูุดุงู ููุฑู ุจูููู."

### ๐ง ุชุฎูู ูุนุงูุง ุงููุซุงู ุฏู:
- ุนูุฏู ูู ุงูุจูุช:  
  - ูุงุจ ุชูุจ (`192.168.1.10`)  
  - ููุจุงูู (`192.168.1.11`)  
  - ุชุงุจูุช (`192.168.1.12`)  
- ูุฑุงูุชุฑ ุงูุฅูุชุฑูุช ุนูุฏู ุนููุงู ุนุงู ูุงุญุฏ: `203.0.113.5`  
- ููู ููุฏุฑ ุงูุฑุงูุชุฑ ูููุฒ:  
  - ุฅูู ุงูุฑุฏ ุงููุฎุตุต ูููุงุจ ุชูุจุ  
  - ูุฅูู ุงูุฑุฏ ุงููุฎุตุต ููููุจุงููุ  

> โ ููุง **ุงูุจูุฑุชุงุช** ูู ุงููู ุจุชูุฑู! ๐ฏ

| ุงูุฌูุงุฒ | ุงูุจุงููุช ุงููุฑุณู | ุงูุฑุงูุชุฑ ุจูุบููุฑู ูู |
|--------|----------------|---------------------|
| ูุงุจ ุชูุจ | `192.168.1.10:50001 โ google.com:80` | `203.0.113.5:50001 โ google.com:80` |
| ููุจุงูู | `192.168.1.11:50001 โ youtube.com:80` | `203.0.113.5:50002 โ youtube.com:80` โ ูุงุญุธ: ุบููุฑ ุงูุจูุฑุช ูู `50002`! |

> โ ุงูุฑุงูุชุฑ ุจูููู:  
> "ุฃูุง ูุณููุญ ููุณุชุฎุฏู `203.0.113.5`ุ ุจุณ ูู ูุงุญุฏ ูุงุฎูุฏ **ุฑูู ุจูุฑุช ูุฎุชูู**โฆ ููู ุงูุจูุฑุช ูุด ุญุฑุ ุฃุฒูุฏ ุฑูู ูุญุฏ ูุง ุฃูุงูู ูุงุญุฏ ูุงุถู."

---

## ๐ง ุฅุฒุงู ุชุนุฏููู ูู ุงูุฑุงูุชุฑุ (ููุนูู ุฑุฆูุณููู)

### ุงูููุน 1๏ธโฃ: **PAT ุจุงุณุชุฎุฏุงู ูุงุฌูุฉ ูุงุญุฏุฉ (Interface)**  
โก๏ธ ูุนูู: ุงุณุชุฎุฏู **ุงูุนููุงู ุงูุนุงู ุงูููุชูุจ ุนูู ููุณ ุงููุงุฌูุฉ ุงูุฎุงุฑุฌูุฉ** (ูุซู Serial0/1/1).

#### ุงูุฃูุงูุฑ:
```bash
R2(config)# access-list 1 permit 192.168.0.0 0.0.255.255
R2(config)# ip nat inside source list 1 interface Serial0/1/1 overload
R2(config)# interface Serial0/1/0
R2(config-if)# ip nat inside
R2(config)# interface Serial0/1/1
R2(config-if)# ip nat outside
```

> ๐ ุดุฑุญ ุงูุฃูุฑ ุงูููู:  
> `ip nat inside source list 1 interface Serial0/1/1 overload`  
> - `list 1` โ ุงูุฃุฌูุฒุฉ ุงููุณููุญ ูููุง (ูู ุงูู ACL)  
> - `interface Serial0/1/1` โ ุฎุฏ ุงูุนููุงู ุงูุนุงู ูู ุนูู ููุณ ุงููุงุฌูุฉ ุฏู  
> - `overload` โ ุฏู ูู "ุณุฑู ุงูุณุญุฑ"! ุจูููู: "ุงุณุชุฎุฏู ุงูุจูุฑุชุงุช ุนูุดุงู ุชูุฑู ุจูู ุงูุฃุฌูุฒุฉ".

---

### ุงูููุน 2๏ธโฃ: **PAT ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ ุนูุงููู (Pool)**  
โก๏ธ ูุนูู: ุนูุฏู ุฃูุซุฑ ูู ุนููุงู ุนุงู (ูุซูุงู 5 ุนูุงููู ูู ุดุฑูุฉ ุงูุงุชุตุงูุงุช)ุ ูุนุงูุฒ ุชุณุชุฎุฏููู ูููู โ ููู ูุงุญุฏ ูููู ูุฎุฏู ูุฆุงุช ุงูุฃุฌูุฒุฉ ุจุงูุจูุฑุชุงุช.

#### ุงูุฃูุงูุฑ:
```bash
R2(config)# ip nat pool MY-POOL 209.165.200.226 209.165.200.240 netmask 255.255.255.224
R2(config)# access-list 1 permit 192.168.0.0 0.0.255.255
R2(config)# ip nat inside source list 1 pool MY-POOL overload   โ ูุงุญุธ: overload ููุง ููุงู!
R2(config)# interface Serial0/1/0
R2(config-if)# ip nat inside
R2(config)# interface Serial0/1/1
R2(config-if)# ip nat outside
```

> โ ุงููุฑู ุงููุญูุฏ ุนู Dynamic NAT ุงูุนุงุฏูุ  
> โ ูููุฉ **`overload`** โ ุฏู ุงููู ุจุชูุนูู ุงุณุชุฎุฏุงู **ุงูุจูุฑุชุงุช**.

---

## ๐ ุดูู ุฅุฒุงู ุจูุดุชุบู (ุจุงููุซุงู ุงููู ูู ุงูุดุฑุงุฆุญ):

### ุงููุดูุฏ:
- **PC1**: `192.168.10.10` โ ุจูุทูุจ ูููุน A  
- **PC2**: `192.168.11.10` โ ุจูุทูุจ ูููุน B  
- ุงูุฑุงูุชุฑ ููุณุชุฎุฏู ููุณ ุงูุนููุงู ุงูุนุงู: `209.165.200.225`

#### โฉ ูู ุงูุฌูุงุฒ ููุฅูุชุฑูุช:
| ุงูุฌูุงุฒ | ุงูุจูุฑุช ุงูุฃุตูู | ุงูุฑุงูุชุฑ ุนููููู | ุงูุณุจุจ |
|--------|---------------|----------------|--------|
| PC1 | `1444` | `209.165.200.225:1444` | ุฃูู ูุงุญุฏ โ ุฎุฏ ุงูุจูุฑุช ููุณู |
| PC2 | `1444` | `209.165.200.225:1445` | ููุณ ุงูุจูุฑุช ูุด ูุชุงุญ โ ุฒูุฏ 1 |

> ๐ฏ ูู `1445` ูุงู ูุดุบููุ ูุงู ุฒูุฏ ุชุงูู ูู `1446`โฆ ูููุฐุง.

#### โช ูู ุงูุฅูุชุฑูุช ููุฌูุงุฒ:
- ุงููููุน ูุฑุฏ ุนูู `209.165.200.225:1444` โ ุงูุฑุงูุชุฑ ุจูููู: "ุฏู ูู `192.168.10.10`"  
- ุงููููุน ูุฑุฏ ุนูู `209.165.200.225:1445` โ ุงูุฑุงูุชุฑ ุจูููู: "ุฏู ูู `192.168.11.10`"

> โ ูุงูุฑุงูุชุฑ ุจูุฑุฌูุน ุงูุจูุฑุช ููููุชู ุงูุฃุตููุฉ (`1444`) ูุจู ูุง ููุตู ููุฌูุงุฒ โ ููุญุฏุด ุจูุญุณ ุฅู ูู ุชุบููุฑ!

---

## ๐ ุฅุฒุงู ุชุชุฃูุฏ ุฅูู ุดุบุงูุ (ุฃูุงูุฑ ุงูุชุญูู)

### 1. ุดูู ุงูุชุฑุฌูุงุช:
```bash
R2# show ip nat translations
```
ุงููุฎุฑุฌุงุช ุจุชููู ูุฏู:
```
Pro  Inside global             Inside local
tcp  209.165.200.225:1444     192.168.10.10:1444
tcp  209.165.200.225:1445     192.168.11.10:1444   โ ููุณ ุงูุนููุงู ุงูุนุงูโฆ ุจุณ ุจูุฑุช ูุฎุชูู!
```

> ๐ **ุฏูุงูุฉ ุฃูู PAT**:  
> ููุณ `Inside global` (225) ูุน ุจูุฑุชุงุช ูุฎุชููุฉ โ ุฏู PAT 100%.

---

### 2. ุดูู ุงูุฅุญุตุงุฆูุงุช:
```bash
R2# show ip nat statistics
```
ุจูุธูุฑ:
```
allocated 1 (6%)   โ ูุนูู ุงุณุชุฎุฏู ุนููุงู ูุงุญุฏ ููุท ูู ุงูู Pool (ุญุชู ูู ูู 15 ูุชุงุญูู)
```

> โ ูู ุดูุช `allocated 1` ูุน 2 ุฃู 10 ุชุฑุฌูุงุช โ ุฏู ุฏููู ุฅูู ุจุชุณุชุฎุฏู **PAT** ูุด Dynamic NAT ุนุงุฏู.

---

## ๐ ููุงุฑูุฉ ุณุฑูุนุฉ: Static vs Dynamic vs PAT

| ุงูููุน | ุนุฏุฏ ุงูุนูุงููู ุงููุทููุจุฉ | ูู ูุญุชุงุฌ ุจูุฑุชุงุชุ | ูู ููุชุธุฑ ุงููุณุชุฎุฏูุ | ุงูุงุณุชุฎุฏุงู ุงูุฃูุซู |
|------|------------------------|------------------|--------------------|------------------|
| **Static NAT** | 1 ููู ุฌูุงุฒ | โ ูุง | โ ูุง | ุณูุฑูุฑุงุช (ูููุนุ ูุงููุฑุงุช) |
| **Dynamic NAT** | 1 ููู ุงุชุตุงู ูุชุฒุงูู | โ ูุง | โ ูุนู (ูู ุฎูุตุช ุงูุนูุงููู) | ุดุจูุงุช ูุฏููุฉ ุฃู ุตุบูุฑุฉ |
| **PAT (Overload)** | **ุนููุงู ูุงุญุฏ ููุงูุฉ** | โ ูุนู | โ ูุง | โ **ูู ุงูุจููุช + ุงูุดุฑูุงุช ุงูุญุฏูุซุฉ** |

---

## โ ุฎูุงุตุฉ "ุจุงูุนุฑุจู ุงูููููู":
> PAT = "ุนููุงู ุนุงู ูุงุญุฏ + ุจูุฑุชุงุช ูุฎุชููุฉ = ุขูุงู ุงูุฃุฌูุฒุฉ ุชุชุตูุญ ุจุณูุงุณุฉ"  
> ูู ุงูุญู ุงูุฐูู ุงููู ุฃููุฐ ุงูุฅูุชุฑูุช ูู ุฃุฒูุฉ ููุต ุนูุงููู IPv4 ๐  
> โ ููู ุงููู ุนููู ูู ุงูุฑุงูุชุฑ: ุชุถูู ูููุฉ **`overload`** ูู ุฃูุฑ ุงูุชุฑุฌูุฉ.

---

> ๐ก **ุญุงุฌุฉ ุชูุฑุญ**:  
> ูู ุนูุฏู ุฑุงูุชุฑ ููุฒูู (ุฒู TP-Link ุฃู ZTE)ุ ูู ูู **ููุนูู PAT ุงูุชุฑุงุถููุง** ูู ุฃูู ูุง ุชุดุชุฑูู!  
> โ ูุนูู ุฃูุช ุจุชุณุชุฎุฏูู ุฏูููุชู ูู ุบูุฑ ูุง ุชุนุฑู ๐

---

ูู ุนุงูุฒ ุฃุดุฑุญ ูู ุฅุฒุงู PAT ุจูุชุนุงูู ูุน ุงูู **Ping** (ICMP) โ ุฃู ุฅุฒุงู ุชุถุจุท Port Forwarding ูุณูุฑูุฑ ุฏุงุฎูู ูุน PAT โ ููู ููุ ููุธุจุทูููู ุจุดุฑุญ ูุจุณุท! ๐๏ธโจ