
#### 2. **خطوات الحماية من هجمات VLAN Hopping (Steps to Mitigate VLAN Hopping Attacks)**
   - الهدف: نغلق الثغرات دي بإعدادات بسيطة في السويتش باستخدام أوامر Cisco IOS. الخطوات الخمسة:
     1. **تعطيل DTP على المنافذ غير الـtrunk**: DTP هو بروتوكول يتفاوض تلقائياً عشان يفعل trunking. أغلقه على access ports (منافذ عادية) عشان ما يتقدرش يتزيف. أمر: `switchport mode access`.
     2. **تعطيل المنافذ غير المستخدمة ووضعها في VLAN غير مستخدم**: أغلق أي port مش مستخدم، وضعه في VLAN خاص (مش VLAN 1 الافتراضي) عشان لو حد وصل جهاز، ما يقدرش يهاجم. أمر: `shutdown` ثم حدد VLAN.
     3. **تفعيل trunk يدوياً على المنافذ اللي تحتاج trunk**: بدل التلقائي، فعل trunk بنفسك. أمر: `switchport mode trunk`.
     4. **تعطيل DTP على المنافذ trunk**: حتى لو trunk، أغلق التفاوض التلقائي عشان ما يتقدرش يتزيف. أمر: `switchport nonegotiate`.
     5. **تغيير Native VLAN لغير VLAN 1**: Native VLAN هو الافتراضي بدون tag. غيره لـVLAN تاني عشان يصعب الهجوم double-tagging. أمر: `switchport trunk native vlan <رقم VLAN>` (مثل 99).

   - **جدول بسيط للخطوات**:
     | الخطوة | الوصف المبسط | الأمر الرئيسي |
     |--------|---------------|----------------|
     | 1     | أغلق التفاوض التلقائي على ports عادية | `switchport mode access` |
     | 2     | أغلق ports فاضية وضعها في VLAN آمن | `shutdown` + VLAN config |
     | 3     | فعل trunk يدوي | `switchport mode trunk` |
     | 4     | أغلق التفاوض على trunk | `switchport nonegotiate` |
     | 5     | غير VLAN الافتراضي | `switchport trunk native vlan <num>` |

#### ملاحظات عامة:
- **لماذا مهم؟** VLANs تفصل الشبكة لأمان، لكن بدون حماية، سهل الاختراق. الخطوات دي تحول السويتش لقلعة.
- **نصيحة عملية**: ابدأ دائماً بتعطيل DTP وتغيير native VLAN، ده يغطي معظم الهجمات. جرب في برنامج مثل Packet Tracer عشان تمارس.
- لو طبقت الخطوات دي، الشبكة هتبقى أكثر أمان من هجمات Layer 2 السهلة.

لو في جزء مش مفهوم أو عايز أمثلة أكتر، قلي!

![[Pasted image 20251007013529.png]]



- [x] 1
- [x] 2
- [ ] 3
- [ ] 4
- [ ] 5
- [ ] 6
- [ ] 7
- [ ] 8
- [ ] 9
- [ ] 10
- [ ] 11
- [ ] 12
- [ ] 13
- [ ] 14
- [ ] 15
- [ ] 16
- [ ] 17
- [ ] 18
- [ ] 19
- [ ] 20