
### 8. **تايمرز STP وحالات المنافذ**
STP بيستخدم 3 تايمرز عشان يتحكم في عملية التقارب (Convergence):
- **Hello Timer**: الوقت بين إرسال BPDUs (افتراضي 2 ثانية).
- **Forward Delay Timer**: الوقت اللي المنفذ بيقضيه في حالتي Listening وLearning (افتراضي 15 ثانية).
- **Max Age Timer**: أقصى وقت بيستناه السويتش قبل ما يحاول يغير التوبولوجي (افتراضي 20 ثانية).
- التايمرز دي بتتعدل على الـ Root Bridge، وبتنطبق على كل الشبكة.

**حالات المنافذ في STP**:
| **الحالة**    | **إرسال/استقبال BPDUs** | **تحديث جدول MAC** | **تمرير بيانات** |
|---------------|--------------------------|---------------------|------------------|
| Blocking      | استقبال فقط              | لا                  | لا               |
| Listening     | إرسال واستقبال          | لا                  | لا               |
| Learning      | إرسال واستقبال          | نعم                 | لا               |
| Forwarding    | إرسال واستقبال          | نعم                 | نعم              |
| Disabled      | لا إرسال ولا استقبال     | لا                  | لا               |

- المنفذ بيمر بحالات (Blocking → Listening → Learning → Forwarding) عشان يضمن إن مفيش Loops أثناء التغيير.

---


![[Pasted image 20250908213614.png]]

