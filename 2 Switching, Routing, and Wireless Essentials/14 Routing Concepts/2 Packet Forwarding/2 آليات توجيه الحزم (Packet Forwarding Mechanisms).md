
### 2. **آليات توجيه الحزم (Packet Forwarding Mechanisms)**
الراوتر بيستخدم آليات مختلفة عشان يوجه الحزم بكفاءة. المهمة الأساسية هي تغليف الحزمة في إطار بيانات مناسب لواجهة الخروج. فيه 3 آليات رئيسية:

- **Process Switching**:
  - طريقة قديمة. لما الحزمة توصل:
    - الراوتر بيبعتها للـ **Control Plane** (الجزء اللي فيه المعالج).
    - المعالج بيدور في جدول التوجيه عشان يلاقي واجهة الخروج.
    - الراوتر بيعمل كده مع **كل حزمة**، حتى لو كل الحزم رايحة لنفس الوجهة، فالطريقة دي بطيئة.
  
- **Fast Switching**:
  - تحسين لـ Process Switching. بيستخدم **Fast-Switching Cache** عشان يخزن معلومات الوجهة (Next-Hop).
    - أول حزمة بتترحل زي Process Switching ومعلوماتها بتتخزن في الـ Cache.
    - الحزم اللي بعدها بنفس الوجهة بتستخدم الـ Cache مباشرة بدون ما المعالج يتدخل، فبتكون أسرع.
  
- **Cisco Express Forwarding (CEF)**:
  - الطريقة الحديثة والافتراضية في أجهزة Cisco.
  - بيستخدم جدولين:
    - ال**Forwarding Information Base (FIB)**: فيه كل المعلومات عن المسارات.
    - ال**Routing Table**: فيه احسن مسارات عن الجيران (Next-Hop).
  - الجداول دي بتتتحدث لما يحصل تغيير في الشبكة (مش مع كل حزمة)، فالطريقة دي أسرع وأكفأ لأن الراوتر بيعرف كل المعلومات اللي محتاجها قبل ما الحزمة توصل.

---

![[Pasted image 20250908221614.png]]

![[Pasted image 20250908221627.png]]

![[Pasted image 20250908221643.png]]
