
## مثال تجميعي سريع (config snippet — نموذج عام وآمن نسبياً)

```
conf t
! PortFast for access ports
spanning-tree portfast default

! BPDU Guard for portfast ports
spanning-tree portfast bpduguard default

! Loop Guard on eligible ports globally
spanning-tree loopguard default

! Enable UDLD global (ثم enable per-port aggressive where needed)
udld enable
! (or enable per-interface udld port aggressive)

! Auto-recover from bpduguard & udld after 5 minutes (اختياري — فكّر قبل التطبيق)
errdisable recovery cause bpduguard udld
errdisable recovery interval 300
end

! Example per-interface overrides:
int Gi1/0/10
 description PC_Office
 switchport mode access
 spanning-tree portfast
 spanning-tree bpduguard enable

int Gi1/0/1
 description UPLINK_TO_DISTRO
 switchport trunk encapsulation dot1q
 switchport mode trunk
 spanning-tree guard root
```

---
